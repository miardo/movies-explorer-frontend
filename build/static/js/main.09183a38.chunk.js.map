{"version":3,"sources":["components/Navigation/Navigation.js","images/header-logo.svg","components/Header/Header.js","components/Promo/Promo.js","components/NavTab/NavTab.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/about-me-photo.jpg","components/AboutMe/AboutMe.js","images/about-me-link.svg","components/Portfolio/Portfolio.js","components/Main/Main.js","components/SearchForm/SearchForm.js","components/Preloader/Preloader.js","images/movies-card-img.png","components/MoviesCard/MoviesCard.js","components/More/More.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/Footer/Footer.js","contexts/CurrentUserContext.js","utils/useValidation.js","components/Profile/Profile.js","components/Login/Login.js","components/Register/Register.js","components/NotFound/NotFound.js","components/InfoPopup/InfoPopup.js","utils/MoviesApi.js","utils/MainApi.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Navigation","location","useLocation","useState","isBurgerClicked","setIsBurgerClicked","className","onClick","to","pathname","activeClassName","Header","props","src","logo","alt","loggedIn","Promo","NavTab","href","AboutProject","id","Techs","AboutMe","photo","Portfolio","arrow","Main","SearchForm","search","setSearch","isSearchValid","setIsSearchValid","onSubmit","saved","e","target","checkValidity","preventDefault","length","onSearchSavedMovies","onSearchMovies","required","noValidate","name","type","minLength","maxLength","placeholder","value","onChange","onShortMoviesCheck","checked","isChecked","htmlFor","Preloader","isSearching","MoviesCard","isDeleteButtonVisible","isSaved","setIsSaved","movie","country","director","duration","year","description","image","filmImg","url","trailer","trailerLink","nameRU","nameEN","thumbnail","formats","movieId","editedDuration","Math","trunc","currentMovie","JSON","parse","localStorage","getItem","find","useEffect","onDeleteMovie","_id","onMovieSave","rel","More","movies","displayedMovies","handleMoviesIncrease","MoviesCardList","windowSize","window","innerWidth","initialCardsNumber","setInitialCardsNumber","moreCardsNumber","slice","notFound","map","undefined","savedMovies","prevState","Movies","isShortMoviesChecked","SavedMovies","Footer","CurrentUserContext","React","createContext","useValidation","values","setValues","errors","setErrors","isFormValid","setIsFormValid","handleChange","input","validationMessage","closest","Profile","isFormDisabled","setIsFormDisabled","currentUser","useContext","isValuesChecked","setIsValuesChecked","isUpdate","onChangeUser","isSaving","email","disabled","pattern","onSignOut","Login","onLogin","password","onClear","autoComplete","Register","onRegister","NotFound","history","useHistory","goBack","InfoPopup","popupOpen","errorMessage","closePopup","checkResponse","res","ok","json","Promise","reject","status","BASE_URL","getUserData","token","fetch","method","headers","credentials","then","data","getSavedMovies","ProtectedRoute","Component","component","App","isLoggedIn","setIsUpdate","setToken","setCurrentUser","setMovies","allMovies","setAllMovies","setSavedMovies","setIsSearching","setIsShortMoviesChecked","setIsSaving","setNotFound","isPopupOpen","setIsPopupOpen","setErrorMessage","handleShortMoviesCheck","handleLogin","body","stringify","setItem","mainApi","push","error","message","catch","finally","clearErrorMessages","handleSearchMovies","keyword","filteredMovies","forEach","toLowerCase","indexOf","handleDeleteMovie","newSavedMovies","filter","deletedMovie","err","console","log","searchedMovies","all","userData","films","checkToken","Provider","exact","path","searchResult","savedMovie","searchSavedResult","Array","isArray","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.09183a38.chunk.js","sourcesContent":["import { React, useState } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport \"./Navigation.css\";\n\nfunction Navigation() {\n    let location = useLocation();\n\n    const [isBurgerClicked, setIsBurgerClicked] = useState(false);\n\n    const handleBurgerClicked = () => {\n        if (isBurgerClicked === false) {\n            setIsBurgerClicked(true)\n        } else { setIsBurgerClicked(false) }\n    }\n\n    return (\n        <nav className={`navigation ${isBurgerClicked && 'navigation_opened-burger-menu'}`}>\n            <div className={`navigation__menu ${isBurgerClicked && 'navigation__menu_opened-burger-menu'}`}>\n                <button className={`navigation__burger-btn ${isBurgerClicked && 'navigation__burger-btn_close'}`} onClick={handleBurgerClicked}></button>\n                <ul className={`navigation__buttons-list ${isBurgerClicked && 'navigation__buttons-list_opened-burger-menu'}`}>\n                    <li className=\"navigation__button\"><NavLink to=\"/\" className={`navigation__main-button ${location.pathname === '/' && 'navigation__link_active'} ${isBurgerClicked && 'navigation__main-button_opened-burger-menu'}`}>Главная</NavLink></li>\n                    <li className=\"navigation__button\"><NavLink to=\"/movies\" activeClassName=\"navigation__link_active\" className={`navigation__all-films-button ${isBurgerClicked && 'navigation__all-films-button_opened-burger-menu'}`}>Фильмы</NavLink></li>\n                    <li className=\"navigation__button\"><NavLink to=\"/saved-movies\" activeClassName=\"navigation__link_active\" className={`navigation__saved-films-button ${isBurgerClicked && 'navigation__saved-films-button_opened-burger-menu'}`}>Сохранённые фильмы</NavLink></li>\n                </ul>\n                <NavLink to=\"/profile\" className={`navigation__acc ${isBurgerClicked && 'navigation__acc_opened-burger-menu'}`}>Аккаунт</NavLink>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navigation;","export default __webpack_public_path__ + \"static/media/header-logo.250bb8ba.svg\";","import React from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport Navigation from '../Navigation/Navigation';\nimport \"./Header.css\";\nimport logo from \"../../images/header-logo.svg\";\n\nfunction Header(props) {\n    let location = useLocation();\n\n    return (\n        <header className={`header ${location.pathname !== '/' && 'header_login'} ${(location.pathname === '/saved-movies' || location.pathname === '/movies' || location.pathname === '/' || location.pathname === '/profile') && 'header_unhidden'}`}>\n            <NavLink to=\"/\" className=\"header__logo-link\">\n            <img className=\"header__logo\" src={logo} alt=\"Логотип\"/>\n            </NavLink>\n            {(location.pathname === '/' && !props.loggedIn) ?\n            <ul className=\"header__buttons-list\">\n                <li className=\"header__button\"><NavLink to=\"/signup\" className=\"header__reg-button\">Регистрация</NavLink></li>\n                <li className=\"header__button\"><NavLink to=\"/signin\" className=\"header__login-button\">Войти</NavLink></li>\n            </ul> :\n            <Navigation /> }\n        </header>\n    );\n}\n\nexport default Header;","import React from \"react\";\nimport \"./Promo.css\";\n\nfunction Promo() {\n    return (\n        <section className=\"promo\">\n            <h1 className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</h1>\n        </section>\n    );\n}\n\nexport default Promo;","import React from \"react\";\nimport \"./NavTab.css\";\n\nfunction NavTab() {\n    return (\n        <section className=\"nav-tab\">\n            <nav className=\"nav-tab__menu\">\n                <ul className=\"nav-tab__menu-list\">\n                    <li className=\"nav-tab__menu-text\"><a href=\"#about-project\" className=\"nav-tab__menu-link\">О проекте</a></li>\n                    <li className=\"nav-tab__menu-text\"><a href=\"#techs\" className=\"nav-tab__menu-link\">Технологии</a></li>\n                    <li className=\"nav-tab__menu-text\"><a href=\"#about-me\" className=\"nav-tab__menu-link\">Студент</a></li>\n                </ul>\n            </nav>\n        </section>\n    );\n}\n\nexport default NavTab;","import React from \"react\";\nimport \"./AboutProject.css\";\n\nfunction AboutProject() {\n    return (\n        <section className=\"about-project\">\n            <h2 className=\"about-project__title\" id=\"about-project\">О проекте</h2>\n            <div className=\"about-project__description\">\n                <article className=\"about-project__description-block\">\n                    <h3 className=\"about-project__description-block-title\">Дипломный проект включал 5 этапов</h3>\n                    <p className=\"about-project__description-block-text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n                </article>\n                <article className=\"about-project__description-block\">\n                    <h3 className=\"about-project__description-block-title\">На выполнение диплома ушло 5 недель</h3>\n                    <p className=\"about-project__description-block-text\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n                </article>\n            </div>\n            <div className=\"about-project__timeline\">\n                <article className=\"about-project__timeline-block\">\n                    <p className=\"about-project__timeline-block-header\">1 неделя</p>\n                    <p className=\"about-project__timeline-block-footer\">Back-end</p>\n                </article>\n                <article className=\"about-project__timeline-block\">\n                    <p className=\"about-project__timeline-block-header about-project__timeline-block-header_style\">4 недели</p>\n                    <p className=\"about-project__timeline-block-footer\">Front-end</p>\n                </article>\n            </div>\n        </section>\n    );\n}\n\nexport default AboutProject;","import React from \"react\";\nimport \"./Techs.css\";\n\nfunction Techs() {\n    return (\n        <section className=\"techs\">\n            <h2 className=\"techs__title\" id=\"techs\">Технологии</h2>\n            <div className=\"techs__description\">\n                <h3 className=\"techs__description-title\">7 технологий</h3>\n                <p className=\"techs__description-text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n                <ul className=\"techs__description-stack-list\">\n                    <li className=\"techs__description-stack\">HTML</li>\n                    <li className=\"techs__description-stack\">CSS</li>\n                    <li className=\"techs__description-stack\">JS</li>\n                    <li className=\"techs__description-stack\">React</li>\n                    <li className=\"techs__description-stack\">Git</li>\n                    <li className=\"techs__description-stack\">Express.js</li>\n                    <li className=\"techs__description-stack\">mongoDB</li>\n                </ul>\n            </div>\n        </section>\n    );\n}\n\nexport default Techs;","export default __webpack_public_path__ + \"static/media/about-me-photo.b72f27fe.jpg\";","import React from \"react\";\nimport \"./AboutMe.css\";\nimport photo from \"../../images/about-me-photo.jpg\";\n\nfunction AboutMe() {\n    return (\n        <section className=\"about-me\">\n            <h2 className=\"about-me__title\" id=\"about-me\">Студент</h2>\n            <div className=\"about-me__student\">\n                <div className=\"about-me__student-description\">\n                    <h3 className=\"about-me__student-description-name\">Марат Каримов</h3>\n                    <h4 className=\"about-me__student-description-title\">Фронтенд-разработчик</h4>\n                    <p className=\"about-me__student-description-text\">Я начинающий фронтенд-разработчик. С удовольствием осваиваю новое для себя направление Web-разработки. Нацелен на большие результаты и продуктивную работу.</p>\n                    <ul className=\"about-me__student-description-links-list\">\n                        <li className=\"about-me__student-description-link\"><a className=\"about-me__student-description-link-social\" href=\"https://www.facebook.com/profile.php?id=100011336865067\">Facebook</a></li>\n                        <li className=\"about-me__student-description-link\"><a className=\"about-me__student-description-link-social\" href=\"https://github.com/miardo\">Github</a></li>\n                    </ul>\n                </div>\n                <img className=\"about-me__student-photo\" src={photo} alt=\"Марат Каримов\"/>\n            </div>\n        </section>\n    );\n}\n\nexport default AboutMe;","export default __webpack_public_path__ + \"static/media/about-me-link.2f133fb2.svg\";","import React from \"react\";\nimport \"./Portfolio.css\";\nimport arrow from \"../../images/about-me-link.svg\";\n\nfunction Portfolio() {\n    return (\n        <section className=\"portfolio\">    \n                <h3 className=\"portfolio__title\">Портфолио</h3>\n                <nav className=\"portfolio__links\">\n                    <article className=\"portfolio__link\">\n                        <a className=\"portfolio__link-text\" href=\"https://github.com/miardo/how-to-learn\">Статичный сайт</a>\n                        <img className=\"portfolio__link-img\" src={arrow} alt=\"Стрелочка\"/>\n                    </article>\n                    <article className=\"portfolio__link\">\n                        <a className=\"portfolio__link-text\" href=\"https://github.com/miardo/russian-travel\">Адаптивный сайт</a>\n                        <img className=\"portfolio__link-img\" src={arrow} alt=\"Стрелочка\"/>\n                    </article>\n                    <article className=\"portfolio__link\">\n                        <a className=\"portfolio__link-text\" href=\"https://github.com/miardo/react-mesto-auth\">Одностраничное приложение</a>\n                        <img className=\"portfolio__link-img\" src={arrow} alt=\"Стрелочка\"/>\n                    </article>\n                </nav>\n        </section>\n    );\n}\n\nexport default Portfolio;","import React from 'react';\nimport Promo from '../Promo/Promo';\nimport NavTab from '../NavTab/NavTab';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Portfolio from '../Portfolio/Portfolio';\n\nfunction Main() {\n    return (\n        <>\n            <main>\n                <Promo />\n                <NavTab />\n                <AboutProject />\n                <Techs />\n                <AboutMe />\n                <Portfolio />\n            </main>\n        </>\n    );\n}\n\nexport default Main;\n","import React, { useState } from \"react\";\nimport \"./SearchForm.css\";\n\nfunction SearchForm(props) {\n    const [search, setSearch] = useState('');\n    const [isSearchValid, setIsSearchValid] = useState(true);\n\n    function handleSearchChange(e) {\n        setSearch(e.target.value);\n    }\n\n    function handleSearchSavedMovies(e) {\n        setIsSearchValid(e.target.checkValidity())\n        e.preventDefault();\n        if (search.length > 0) {\n            props.onSearchSavedMovies(search);\n        }\n    }\n\n    function handleSearchMovies(e) {\n        setIsSearchValid(e.target.checkValidity())\n        e.preventDefault();\n        if (search.length > 0) {\n            props.onSearchMovies(search);\n        }\n    }\n    return (\n        <section className=\"search\">\n            <form className=\"search__form\" onSubmit={props.saved ? handleSearchSavedMovies : handleSearchMovies} required noValidate>\n                <input className=\"search__form-input\" name=\"search\" required type=\"text\" minLength=\"1\" maxLength=\"200\" placeholder=\"Фильм\" value={search || ''} onChange={handleSearchChange}></input>\n                <span className={`search__form-input-error ${isSearchValid ? 'search__form-input-error_hidden' : ''}`}>Нужно ввести ключевое слово</span>\n                <button className=\"search__form-button\" >Найти</button>\n            </form>\n            <div className=\"search__switcher\">\n                <input type=\"checkbox\" id='checkbox' className=\"search__switcher-button\" onChange={props.onShortMoviesCheck} checked={props.isChecked}></input>\n                <label className=\"search__switcher-text\" htmlFor=\"checkbox\">Короткометражки</label>\n            </div>\n        </section>\n    );\n}\n\nexport default SearchForm;","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = (props) => {\n    return (\n        <div className={`preloader ${props.isSearching ? '' : 'preloader_hidden'}`}>\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","export default __webpack_public_path__ + \"static/media/movies-card-img.143ef437.png\";","import { React, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport \"./MoviesCard.css\";\nimport filmImg from \"../../images/movies-card-img.png\";\n\nfunction MoviesCard(props) {\n    let location = useLocation();\n\n    const [isDeleteButtonVisible, setIsDeleteButtonVisible] = useState(false);\n    const [isSaved, setIsSaved] = useState(false);\n\n    const movie = {\n        country: props.movie.country || 'Нет данных',\n        director: props.movie.director || 'Нет данных',\n        duration: props.movie.duration || 0,\n        year: props.movie.year || 'Нет данных',\n        description: props.movie.description || 'Нет данных',\n        image: `${props.movie.image === null ? `${filmImg}` : `https://api.nomoreparties.co${props.movie.image?.url}`}`,\n        trailer: props.movie?.trailerLink,\n        nameRU: props.movie.nameRU || 'Нет данных',\n        nameEN: props.movie.nameEN || 'Нет данных',\n        thumbnail: `${props.movie.image === null ? `${filmImg}` : `https://api.nomoreparties.co${props.movie.image?.formats?.thumbnail?.url}`}`,\n        movieId: props.movie.id,\n    }\n\n    const editedDuration = `${Math.trunc(movie.duration / 60)}ч ${movie.duration % 60}м`;\n    const image = `${props.movie.image === null ? `${filmImg}` : `https://api.nomoreparties.co${props.movie.image?.url}`}`;\n    const savedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    const currentMovie = savedMovies.find((movie) => movie.nameRU === props.movie.nameRU);\n\n    function handleLikeButtonCLick() {\n        props.onMovieSave(movie);\n        setIsSaved(true);\n    }\n\n    function handleDisLike() {\n        setIsSaved(false);\n        props.onDeleteMovie(currentMovie._id);\n    }\n\n    function handleDeleteMovie() {\n        props.onDeleteMovie(props.movie._id);\n        setIsSaved(false);\n    }\n\n    useEffect(() => {\n        if(currentMovie) {\n            setIsSaved(true)\n        } else {\n        \n    }\n    }, [location])\n\n    return (\n        <article className=\"movies-card\">\n            <div className=\"movies-card__header\">\n                <div className=\"movies-card__header-text\">\n                    <h3 className=\"movies-card__header-text-title\">{props.movie.nameRU}</h3>\n                    <p className=\"movies-card__header-text-time\">{editedDuration}</p>\n                </div>\n                {props.saved ?\n                    <button className={`movies-card__header-favorite ${!isDeleteButtonVisible ? 'movies-card__header-favorite_delete' : ''}`} onClick={handleDeleteMovie}></button> :\n                    <button className={`movies-card__header-favorite ${isSaved ? 'movies-card__header-favorite_saved' : ''}`} onClick={isSaved ? handleDisLike : handleLikeButtonCLick}></button>}\n            </div>\n            <a className=\"movies-card__link\" target=\"_blank\" rel=\"noreferrer\" href={props.saved ? props.movie.trailer : props.movie.trailerLink}><img className=\"movies-card__img\" src={props.saved ? props.movie.image : image} alt=\"{props.movie.nameRU}\" /></a>\n        </article>\n    );\n}\n\nexport default MoviesCard;","import React from \"react\";\nimport \"./More.css\";\n\nfunction More(props) {\n    return (\n        <section className={props.saved ? 'more more_hidden' : `more ${props.movies?.length === props.displayedMovies?.length ? 'more_hidden' : ''}`}>\n            <button className=\"more__button\" onClick={props.handleMoviesIncrease}>Ещё</button>\n        </section>\n    );\n}\n\nexport default More;","import React, { useState } from 'react';\nimport \"./MoviesCardList.css\";\nimport Preloader from '../Preloader/Preloader';\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport More from '../More/More';\n\nfunction MoviesCardList(props) {\n\n    const [initialCardsNumber, setInitialCardsNumber] = useState(() => {\n        const windowSize = window.innerWidth;\n        if (windowSize < 768) {\n            return 5\n        } else if (windowSize < 1024) {\n            return 8\n        } else if (windowSize > 1024) {\n            return 12\n        }\n    });\n    const [moreCardsNumber, setMoreCardsNumber] = useState(() => {\n        const windowSize = window.innerWidth;\n        if (windowSize < 768) {\n            return 2\n        } else if (windowSize < 1024) {\n            return 2\n        } else if (windowSize > 1024) {\n            return 3\n        }\n    });\n\n    const displayedMovies = props.movies?.slice(0, initialCardsNumber);\n\n\n    function handleMoviesIncrease() {\n        setInitialCardsNumber(prevState => { return prevState + moreCardsNumber });\n    }\n    \n    return (\n        <section className=\"movies-card-list-box\">\n            <div className=\"movies-card-list\">\n                <Preloader isSearching={props.isSearching} />\n                <p className={`movies-card-list__text ${props.notFound ? '' : 'movies-card-list__text_hidden'}`}>Фильмы не найдены</p>\n                {displayedMovies?.map((movie) => {\n                    if (movie.movieId !== undefined || movie.id !== undefined) {\n                    return (\n                        <MoviesCard\n                            movie={movie}\n                            key={props.saved ? movie.movieId : movie.id}\n                            saved={props.saved}\n                            onMovieSave={props.onMovieSave}\n                            onDeleteMovie={props.onDeleteMovie}\n                            savedMovies={props.savedMovies}\n                        />\n                    )\n                }\n                })\n                }\n            </div>\n            {(props.movies?.length !== displayedMovies?.length && !props.saved) && (\n                <More saved={false} displayedMovies={displayedMovies} handleMoviesIncrease={handleMoviesIncrease} />\n            )}\n        </section>\n    );\n}\n\nexport default MoviesCardList;","import React from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\n\nfunction Movies(props) {\n    return (\n        <>\n            <main>\n                <SearchForm\n                    onSearchMovies={props.onSearchMovies}\n                    onShortMoviesCheck={props.onShortMoviesCheck}\n                    saved={false}\n                    isChecked={props.isShortMoviesChecked} />\n                <MoviesCardList\n                    movies={props.movies}\n                    isSearching={props.isSearching}\n                    notFound={props.notFound}\n                    onMovieSave={props.onMovieSave}\n                    onDeleteMovie={props.onDeleteMovie}\n                    saved={false}\n                    savedMovies={props.savedMovies}\n                />\n            </main>\n        </>\n    );\n}\n\nexport default Movies;","import React from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\n\nfunction SavedMovies(props) {\n    return (\n        <>\n            <main>\n                <SearchForm\n                    onSearchSavedMovies={props.onSearchSavedMovies}\n                    saved={true}\n                    onShortMoviesCheck={props.onShortMoviesCheck}\n                    isChecked={props.isShortMoviesChecked}\n                />\n                <MoviesCardList\n                    saved={true}\n                    movies={props.movies}\n                    onDeleteMovie={props.onDeleteMovie}\n                />\n            </main>\n        </>\n    );\n}\n\nexport default SavedMovies;","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport \"./Footer.css\";\n\nfunction Footer() {\n    let location = useLocation();\n    \n    return (\n        <footer className={`footer ${(location.pathname === '/saved-movies' || location.pathname === '/movies' || location.pathname === '/') && 'footer_unhidden'}`}>\n            <p className=\"footer__text\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\n            <div className=\"footer__block\">\n                <p className=\"footer__block-date\">&#169; 2021</p>\n                <ul className=\"footer__block-links-list\">\n                    <li className=\"footer__block-text\"><a className=\"footer__block-link\" href=\"https://practicum.yandex.ru/\">Яндекс.Практикум</a></li>\n                    <li className=\"footer__block-text\"><a className=\"footer__block-link\" href=\"https://github.com/miardo\">Github</a></li>\n                    <li className=\"footer__block-text\"><a className=\"footer__block-link\" href=\"https://www.facebook.com/profile.php?id=100011336865067\">Facebook</a></li>\n                </ul>\n            </div>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\n\nfunction useValidation() {\n    const [values, setValues] = React.useState({});\n    const [errors, setErrors] = React.useState({});\n    const [isFormValid, setIsFormValid] = React.useState(false);\n\n    function handleChange(e) {\n        const input = e.target;\n        const name = input.name;\n        const value = input.value;\n        setValues({ ...values, [name]: value });\n        setErrors({ ...errors, [name]: input.validationMessage });\n        setIsFormValid(input.closest('form').checkValidity());\n    }\n\n    return { values, setValues, handleChange, errors, isFormValid };\n}\n\nexport default useValidation;","import React, { useEffect, useState, useContext } from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport \"./Profile.css\";\nimport useValidation from \"../../utils/useValidation\";\n\nfunction Profile(props) {\n    const { values, setValues, handleChange, errors, isFormValid } = useValidation();\n    const [isFormDisabled, setIsFormDisabled] = useState(true);\n\n    const currentUser = useContext(CurrentUserContext);\n\n    const [isValuesChecked, setIsValuesChecked] = useState(false);\n\n    useEffect(() => {\n        setValues(currentUser);\n    }, [currentUser, setValues]);\n\n    function handleEditProfileClick(e) {\n        e.preventDefault();\n        setIsFormDisabled(false);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onChangeUser(values.name, values.email);\n    }\n\n    useEffect(() => {\n        setIsFormDisabled(props.isUpdate);\n    }, [props.isUpdate, props.onChangeUser])\n\n    useEffect(() => {\n        if (props.isSaving) {\n            setIsFormDisabled(true);\n        }\n    }, [props.isSaving])\n\n    function checkValues() {\n        if (\n            currentUser.email === values.email &&\n            currentUser.name === values.name\n        ) {\n            setIsValuesChecked(false);\n        } else {\n            setIsValuesChecked(true);\n        }\n    }\n\n    useEffect(() => {\n        checkValues();\n    }, [handleChange]);\n\n    return (\n        <section className=\"profile\">\n            <h2 className=\"profile__title\">Привет, {currentUser.name}!</h2>\n            <form className=\"profile__edit-form\" onSubmit={handleSubmit} >\n                <article className=\"profile__edit-form-box\">\n                    <div className=\"profile__edit-form-data\">\n                        <p className=\"profile__edit-form-name\">Имя</p>\n                        <input className=\"profile__edit-form-input\" type=\"text\" name=\"name\" required value={values.name || ''} disabled={isFormDisabled} onChange={handleChange} />\n                    </div>\n                    <span className=\"profile__input-error profile__input-error_form-style\" id=\"name-error\">{errors.name}</span>\n                </article>\n                <article className=\"profile__edit-form-box\">\n                    <div className=\"profile__edit-form-data\">\n                        <p className=\"profile__edit-form-name\">E-mail</p>\n                        <input className=\"profile__edit-form-input\" type=\"email\" name=\"email\" pattern=\"^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$\" required value={values.email || ''} disabled={isFormDisabled} onChange={handleChange} />\n                    </div>\n                    <span className=\"profile__input-error profile__input-error_form-style\" id=\"email-error\">{errors.email}</span>\n                </article>\n                <button type=\"submit\" className={`${isFormDisabled && 'profile__button_hidden'} profile__save-button-text ${(isFormValid && isValuesChecked) ? '' : 'profile__save-button-text_disabled'}`} disabled={!isFormValid || !isValuesChecked}>Сохранить</button>\n            </form>\n            <ul className=\"profile__buttons-list\">\n                <li className={isFormDisabled ? 'profile__button' : 'profile__button_hidden'}><button className=\"profile__button-text\" onClick={handleEditProfileClick}>Редактировать</button></li>\n                <li className={isFormDisabled ? 'profile__button' : 'profile__button_hidden'}><button className=\"profile__button-text profile__button-text_acc-exit-style\" onClick={props.onSignOut}>Выйти из аккаунта</button></li>\n            </ul>\n        </section>\n    );\n}\n\nexport default Profile;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"./Login.css\";\nimport logo from \"../../images/header-logo.svg\";\nimport useValidation from \"../../utils/useValidation\";\n\nfunction Login(props) {\n    const {values, handleChange, errors, isFormValid} = useValidation();\n\n    function handleLogin(e) {\n        e.preventDefault();\n        props.onLogin(values.password, values.email);\n        props.onClear();\n    }\n    return (\n        <section className=\"login\">\n            <NavLink to=\"/\" className=\"login__logo-link\">\n            <img className=\"login__logo\" src={logo} alt=\"Логотип\"/>\n            </NavLink>\n            <h2 className=\"login__title\">Рады видеть!</h2>\n            <form className=\"login__edit-form\" onSubmit={handleLogin}>\n            <article className=\"login__edit-form-box\">\n                <p className=\"login__edit-form-name\">E-mail</p>\n                <input className=\"login__edit-form-input\" type=\"email\" name=\"email\" pattern=\"^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$\" placeholder=\"Email\" autoComplete=\"off\" value={values.email || ''} onChange={handleChange}/>\n                <span className=\"login__input-error\" id=\"email-error\">{errors.email}</span>\n            </article>\n            <article className=\"login__edit-form-box\">\n                <p className=\"login__edit-form-name\">Пароль</p>\n                <input className=\"login__edit-form-input\" minLength=\"8\" type=\"password\" name=\"password\" placeholder=\"\" value={values.password || ''} onChange={handleChange}/>\n                <span className=\"login__input-error\" id=\"password-error\">{errors.password}</span>\n            </article>\n            <button className={`login__save-button-text ${(isFormValid && values.email) ? '' : 'login__save-button-text_disabled'}`} type=\"submit\" disabled={!isFormValid}>Войти</button>\n            </form>\n            <ul className=\"login__buttons-list\">\n                <li className=\"login__button\">\n                    <p className=\"login__button-text\">Ещё не зарегистрированы?</p>\n                    <NavLink to=\"/signup\" className=\"login__reg-button-link\" onClick={props.onClear}>\n                        <button className=\"login__button-link\">Регистрация</button>\n                    </NavLink>\n                </li>\n            </ul>\n        </section>\n    );\n}\n\nexport default Login;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"./Register.css\";\nimport logo from \"../../images/header-logo.svg\";\nimport useValidation from \"../../utils/useValidation\";\n\nfunction Register(props) {\n    const {values, handleChange, errors, isFormValid} = useValidation();\n\n    function handleRegister(e) {\n        e.preventDefault();\n\n        props.onRegister(values.name, values.password, values.email);\n\n        props.onClear();\n    }\n    return (\n        <section className=\"register\">\n            <NavLink to=\"/\" className=\"register__logo-link\">\n            <img className=\"register__logo\" src={logo} alt=\"Логотип\"/>\n            </NavLink>\n            <h2 className=\"register__title\">Добро пожаловать!</h2>\n            <form className=\"register__edit-form\" onSubmit={handleRegister}>\n            <article className=\"register__edit-form-box\">\n                <p className=\"register__edit-form-name\">Имя</p>\n                <input className=\"register__edit-form-input\" type=\"text\" name=\"name\" placeholder=\"Имя\" value={values.name || ''} required onChange={handleChange} />\n                <span className=\"register__input-error\" id=\"email-error\">{errors.name}</span>\n            </article>\n            <article className=\"register__edit-form-box\">\n                <p className=\"register__edit-form-name\">E-mail</p>\n                <input className=\"register__edit-form-input\" type=\"email\" name=\"email\" pattern=\"^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$\" placeholder=\"Email\" value={values.email || ''} required onChange={handleChange}/>\n                <span className=\"register__input-error\" id=\"email-error\">{errors.email}</span>\n            </article>\n            <article className=\"register__edit-form-box\">\n                <p className=\"register__edit-form-name\">Пароль</p>\n                <input className={`register__edit-form-input ${!errors.password ? '' : 'register__edit-form-input_error-style'}`} type=\"password\" name=\"password\" minLength=\"8\" placeholder=\"\" required value={values.password || ''} onChange={handleChange}/>\n                <span className=\"register__input-error\" id=\"password-error\">{errors.password}</span>\n            </article>\n            <button className={`register__save-button-text ${(isFormValid && values.email && values.password && values.name) ? '' : 'register__save-button-text_disabled'}`} type=\"submit\" disabled={!isFormValid}>Зарегистрироваться</button>\n            </form>\n            <ul className=\"register__buttons-list\">\n                <li className=\"register__button\">\n                    <p className=\"register__button-text\">Уже зарегистрированы?</p>\n                    <NavLink to=\"/signin\" className=\"register__reg-button-link\" onClick={props.onClear}>\n                        <button className=\"register__button-link\">Войти</button>\n                    </NavLink>\n                </li>\n            </ul>\n        </section>\n    );\n}\n\nexport default Register;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./NotFound.css\";\n\nfunction NotFound() {\n    const history = useHistory();\n\n    return (\n        <section className=\"not-found\">\n            <h2 className=\"not-found__title\">404</h2>\n            <p className=\"not-found__text\">Страница не найдена</p>\n            <button className=\"not-found__button\" type=\"button\" onClick={() => history.goBack()}>Назад</button>\n        </section>\n    );\n}\n\nexport default NotFound;","import React from \"react\";\nimport \"./InfoPopup.css\";\n\nfunction InfoPopup(props) {\n    return (\n        <div className={`info-popup ${!props.popupOpen && 'info-popup_hidden'}`}>\n            <div className=\"info-popup__box\">\n                <p className={`info-popup__title ${(props.errorMessage === 'Профиль обновлен') && 'info-popup__title_hidden'}`}  >Ошибка</p>\n                <button className=\"info-popup__button\" type=\"button\" onClick={props.closePopup}></button>\n            </div>\n            <p className={`info-popup__text ${(props.errorMessage === 'Профиль обновлен') && 'info-popup__text_success'}`}>{props.errorMessage}</p>\n        </div>\n    );\n}\n\nexport default InfoPopup;","export const BASE_URL = 'https://api.nomoreparties.co/beatfilm-movies';\n\nconst checkResponse = (res) => {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n}\n\nexport function getMovies() {\n    return fetch(`${BASE_URL}`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        }\n    })\n        .then(checkResponse)\n        .then(data => data)\n}","const BASE_URL = 'https://api.diplom.karimov.nomoredomains.monster';\n\nconst checkResponse = (res) => {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n}\n\nexport function register(name, password, email) {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n            \"name\": name,\n            \"password\": password,\n            \"email\": email\n        })\n    })\n        .then(checkResponse)\n}\n\nexport function authorize(password, email) {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n            \"password\": password,\n            \"email\": email\n        })\n    })\n        .then(checkResponse)\n        .then((data) => {\n            if (data.token) {\n                localStorage.setItem('token', data.token);\n            }\n            return data;\n        })\n}\n\nexport function getUserData(token) {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `${token}`,\n        },\n        credentials: 'include'\n    })\n        .then(checkResponse)\n        .then(data => data)\n}\n\nexport function updateUserData(token, name, email) {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'PATCH',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `${token}`,\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n            name: name,\n            email: email\n        })\n    })\n        .then(checkResponse)\n        .then(data => data)\n}\n\nexport function getSavedMovies(token) {\n    return fetch(`${BASE_URL}/movies`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `${token}`,\n        },\n        credentials: 'include',\n    })\n        .then(checkResponse)\n        .then(data => data)\n}\n\nexport function saveMovie(token, movie) {\n    return fetch(`${BASE_URL}/movies`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `${token}`,\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n            country: movie.country,\n            director: movie.director,\n            duration: movie.duration,\n            year: movie.year,\n            description: movie.description,\n            image: movie.image,\n            trailer: movie.trailer,\n            nameRU: movie.nameRU,\n            nameEN: movie.nameEN,\n            thumbnail: movie.thumbnail,\n            movieId: movie.movieId\n        })\n    })\n        .then(checkResponse)\n        .then(data => data)\n}\n\nexport function deleteMovie(token, movieId) {\n    return fetch(`${BASE_URL}/movies/${movieId}`, {\n        method: 'DELETE',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `${token}`,\n        },\n        credentials: 'include',\n    })\n        .then(checkResponse)\n        .then(data => data)\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n        <Route>\n            {() =>\n                props.loggedIn ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to=\"./signin\" />\n                )\n            }\n        </Route>\n    );\n};\n\nexport default ProtectedRoute;","import './App.css';\nimport React, { useEffect, useState } from 'react';\nimport { Route, Switch, useHistory, useLocation } from 'react-router';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Footer from '../Footer/Footer';\nimport Profile from '../Profile/Profile';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport NotFound from '../NotFound/NotFound';\nimport InfoPopup from '../InfoPopup/InfoPopup';\nimport * as moviesApi from '../../utils/MoviesApi';\nimport * as mainApi from '../../utils/MainApi';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\n\nfunction App() {\n    const history = useHistory();\n    const location = useLocation();\n\n    const isLoggedIn = localStorage.getItem('loggedIn');\n\n    const [isUpdate, setIsUpdate] = useState(true);\n    const [token, setToken] = useState('');\n    const [currentUser, setCurrentUser] = useState('');\n\n    const [movies, setMovies] = useState([]);\n    const [allMovies, setAllMovies] = useState([]);\n    const [savedMovies, setSavedMovies] = useState([]);\n\n    const [isSearching, setIsSearching] = useState(false);\n    const [isShortMoviesChecked, setIsShortMoviesChecked] = useState(false);\n    const [isSaving, setIsSaving] = useState(false);\n    const [notFound, setNotFound] = useState(false);\n\n    const [isPopupOpen, setIsPopupOpen] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    function handleShortMoviesCheck(e) {\n        setIsShortMoviesChecked(e.target.checked);\n    }\n\n    function handleLogin(password, email) {\n        setIsSaving(true);\n        mainApi.authorize(password, email)\n            .then((data) => {\n                if (data.token) {\n                    localStorage.setItem('loggedIn', 'true');\n                    history.push('/movies');\n                } else if (data.error === 'Bad Request') {\n                    setErrorMessage('Введены невалидные данные');\n                    setIsPopupOpen(true);\n                } else if (data.message) {\n                    setErrorMessage(data.message);\n                    setIsPopupOpen(true);\n                }\n            })\n            .catch(() => {\n                setErrorMessage('Что-то пошло не так...');\n                setIsPopupOpen(true);\n            })\n            .finally(() => {\n                setIsSaving(false);\n            })\n    }\n\n    function handleRegister(name, password, email) {\n        setIsSaving(true);\n        mainApi.register(name, password, email)\n            .then((res) => {\n                if (res._id) {\n                    handleLogin(password, email);\n                } else if (res.error === 'Bad Request') {\n                    setErrorMessage('Введены невалидные данные');\n                    setIsPopupOpen(true);\n                } else if (res.message) {\n                    setErrorMessage(res.message);\n                    setIsPopupOpen(true);\n                }\n            })\n            .catch(() => {\n                setErrorMessage('Что-то пошло не так...');\n                setIsPopupOpen(true);\n            })\n            .finally(() => {\n                setIsSaving(false);\n            })\n    }\n\n    function handleUpdateUserInfo(name, email) {\n        mainApi.updateUserData(token, name, email)\n            .then((res) => {\n                setCurrentUser(res);\n                setIsUpdate(true);\n                setErrorMessage('Профиль обновлен');\n                setIsPopupOpen(true);\n            })\n            .catch(() => {\n                setErrorMessage('При обновлении профиля произошла ошибка');\n                setIsPopupOpen(true);\n                setIsUpdate(false);\n            })\n    }\n\n    function handleSignOut() {\n        localStorage.removeItem('loggedIn');\n        localStorage.removeItem('token');\n        localStorage.removeItem('movies');\n        setSavedMovies([]);\n        setMovies([]);\n        setAllMovies([]);\n        history.push('/');\n    }\n\n    function clearErrorMessages() {\n        setErrorMessage('');\n        setIsPopupOpen(false);\n    }\n\n    function handleSearchMovies(movies, keyword) {\n        let filteredMovies = [];\n        movies.forEach((movie) => {\n            if (\n                movie.nameRU.toLowerCase().indexOf(keyword.toLowerCase()) > -1\n                ) {\n                if (isShortMoviesChecked) {\n                    if (movie.duration <= 40) {\n                        return filteredMovies.push(movie);\n                    }\n                    return\n                }\n                return filteredMovies.push(movie);\n            }\n        })\n        return filteredMovies;\n    }\n\n    function searchSavedMovies(keyword) {\n        let allSavedMovies = \"\";\n        if (Array.isArray(JSON.parse(localStorage.getItem('savedMovies'))[0])) {\n            allSavedMovies = JSON.parse(localStorage.getItem('savedMovies'))[0];\n        } else {\n            allSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n        }\n        const searchSavedResult = handleSearchMovies(allSavedMovies, keyword);\n        setSavedMovies(searchSavedResult);\n    }\n\n    function searchMovies(keyword) {\n        setIsSearching(true);\n        setMovies([]);\n        setNotFound(false);\n        if (allMovies.length === 0) {\n            moviesApi.getMovies()\n                .then((movies) => {\n                    setAllMovies(movies)\n                    const searchResult = handleSearchMovies(movies, keyword);\n                    if (searchResult.length === 0) {\n                        setNotFound(true);\n                        setMovies([]);\n                    } else {\n                        localStorage.setItem('movies', JSON.stringify(searchResult))\n                        setMovies(JSON.parse(localStorage.getItem('movies')));\n                    }\n                })\n                .catch(() => {\n                    setMovies([]);\n                })\n                .finally(() => {\n                    setIsSearching(false);\n                    setIsShortMoviesChecked(false);\n                })\n        } else {\n            const searchResult = handleSearchMovies(allMovies, keyword);\n            if (searchResult.length === 0) {\n                setNotFound(true);\n                setMovies([]);\n                setIsSearching(false);\n                setIsShortMoviesChecked(false);\n            } else if (searchResult.length !== 0) {\n                localStorage.setItem('movies', JSON.stringify(searchResult));\n                setMovies(JSON.parse(localStorage.getItem('movies')));\n                setIsSearching(false);\n                setIsShortMoviesChecked(false);\n            } else {\n                setMovies([]);\n                setIsShortMoviesChecked(false);\n            }\n        }\n    }\n\n    function handleSaveMovie(movie) {\n        mainApi.saveMovie(token, movie)\n            .then((savedMovie) => {\n                const films = [...savedMovies, savedMovie];\n                localStorage.setItem('savedMovies', JSON.stringify(films));\n                setSavedMovies(prevState => ([...prevState, savedMovie]));\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function handleDeleteMovie(movieId) {\n        mainApi.deleteMovie(token, movieId)\n            .then(() => {\n                const newSavedMovies = savedMovies.filter((deletedMovie) => { return deletedMovie._id !== movieId })\n                setSavedMovies(newSavedMovies);\n                localStorage.setItem('savedMovies', JSON.stringify(newSavedMovies));\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function closePopup() {\n        setIsPopupOpen(false);\n    }\n\n    useEffect(() => {\n        function checkToken() {\n            if (localStorage.getItem('token')) {\n                const token = localStorage.getItem('token');\n                const searchedMovies = JSON.parse(localStorage.getItem('movies'));\n                if (token) {\n                    Promise.all([mainApi.getUserData(token), mainApi.getSavedMovies(token)])\n                        .then(([userData, movies]) => {\n                            setCurrentUser(userData);\n                            setToken(localStorage.getItem('token'));\n                            const films = [...savedMovies, movies];\n                            localStorage.setItem('savedMovies', JSON.stringify(films));\n                            setSavedMovies(prevState => ([...prevState, movies]));\n                            setMovies(searchedMovies);\n                            localStorage.setItem('loggedIn', 'true');\n                        })\n                        .catch((err) => {\n                            console.log(err);\n                        }\n                        )\n                }\n            }\n        }\n        checkToken();\n    }, [history, isLoggedIn])\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        mainApi.getSavedMovies(token)\n            .then((res) => {\n                setSavedMovies(res);\n            })\n    }, [location]);\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <Header loggedIn={isLoggedIn} />\n            <Switch>\n                <ProtectedRoute\n                    exact path=\"/movies\"\n                    loggedIn={isLoggedIn}\n                    component={Movies}\n                    movies={movies}\n                    onSearchMovies={searchMovies}\n                    isSearching={isSearching}\n                    notFound={notFound}\n                    onMovieSave={handleSaveMovie}\n                    onDeleteMovie={handleDeleteMovie}\n                    savedMovies={savedMovies}\n                    onShortMoviesCheck={handleShortMoviesCheck}\n                    isShortMoviesChecked={isShortMoviesChecked} />\n                <ProtectedRoute\n                    exact path=\"/saved-movies\"\n                    loggedIn={isLoggedIn}\n                    component={SavedMovies}\n                    movies={savedMovies}\n                    onDeleteMovie={handleDeleteMovie}\n                    onSearchSavedMovies={searchSavedMovies}\n                    onShortMoviesCheck={handleShortMoviesCheck}\n                    isShortMoviesChecked={isShortMoviesChecked} />\n                <ProtectedRoute\n                    exact path=\"/profile\"\n                    loggedIn={isLoggedIn}\n                    component={Profile}\n                    onSignOut={handleSignOut}\n                    onChangeUser={handleUpdateUserInfo}\n                    isUpdate={isUpdate}\n                    isSaving={isSaving} />\n                <Route exact path=\"/\">\n                    <Main />\n                </Route>\n                <Route path=\"/signin\">\n                    <Login\n                        onLogin={handleLogin}\n                        onClear={clearErrorMessages}\n                        isSaving={isSaving} />\n                </Route>\n                <Route path=\"/signup\">\n                    <Register\n                        onRegister={handleRegister}\n                        onClear={clearErrorMessages}\n                        isSaving={isSaving} />\n                </Route>\n                <Route path=\"*\">\n                    <NotFound />\n                </Route>\n            </Switch>\n            <Footer />\n            <InfoPopup\n                errorMessage={errorMessage}\n                popupOpen={isPopupOpen}\n                closePopup={closePopup}\n            />\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}